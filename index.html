<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Amazônia</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
      body {
        font-family: 'Poppins', sans-serif;
      }
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(-12deg); }
        50% { transform: translateY(-15px) rotate(-10deg); }
      }
      @keyframes float-delay {
        0%, 100% { transform: translateY(0) rotate(12deg); }
        50% { transform: translateY(-12px) rotate(15deg); }
      }
      .animate-float {
        animation: float 6s ease-in-out infinite;
      }
      .animate-float-delay {
        animation: float-delay 7s ease-in-out infinite;
        animation-delay: 0.5s;
      }
    </style>
    <script type="importmap">
    {
      "imports": {
        "@google/genai": "https://aistudiocdn.com/@google/genai@^1.21.0"
      }
    }
    </script>
  </head>
  <body class="bg-[#0a140c] text-white min-h-screen overflow-x-hidden">

    <!-- Header -->
    <header id="header" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-transparent">
      <div class="container mx-auto px-6 py-4 flex justify-between items-center">
        <h1 class="text-2xl font-bold text-white tracking-wider">Amazônia</h1>
        <nav class="hidden md:flex items-center space-x-8">
          <a href="#" class="text-white/80 hover:text-white transition-colors">Home</a>
          <a href="#about" class="text-white/80 hover:text-white transition-colors">A Floresta</a>
          <a href="#chat" class="text-white/80 hover:text-white transition-colors">Pergunte à IA</a>
          <a href="#action" class="text-white/80 hover:text-white transition-colors">Junte-se a nós</a>
        </nav>
        <div class="flex items-center bg-white/10 rounded-full px-4 py-1.5 border border-white/20">
          <input
            type="text"
            placeholder="Search..."
            class="bg-transparent text-white placeholder-white/50 text-sm focus:outline-none w-24 sm:w-32"
          />
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 text-white/50">
            <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
          </svg>
        </div>
      </div>
    </header>

    <main>
      <!-- Hero Section -->
      <section class="relative h-[85vh] min-h-[700px] w-full flex items-center justify-center text-center overflow-hidden">
        <div class="absolute inset-0 bg-cover bg-center z-0" style="background-image: url('https://images.unsplash.com/photo-1594735363229-9e521b2a953a?q=80&w=1920&auto=format&fit=crop')">
          <div class="absolute inset-0 bg-black/40"></div>
        </div>
        
        <div class="relative z-10 flex flex-col items-center">
          <div class="relative w-full">
              <h1 class="text-white font-extrabold text-[12vw] sm:text-[10vw] md:text-9xl lg:text-[12rem] leading-none tracking-tighter" style="text-shadow: 0 4px 15px rgba(0,0,0,0.3)">
                  Amazônia
              </h1>
              <div class="absolute top-[0.1em] left-[2.2em] md:left-[2.1em] lg:left-[2.15em] w-[0.6em] h-[0.6em] bg-[#96d117] rounded-full"></div>
              <div class="absolute bottom-[0.3em] right-[3.3em] md:right-[3.35em] lg:right-[3.35em] w-[0.3em] h-[0.3em] bg-white/80 rounded-full"></div>

              <img src="https://i.ibb.co/CBr2hGr/leaf-1.png" alt="Floating Leaf" class="absolute -bottom-1 -left-2 w-[5em] h-auto transform -rotate-12 animate-float" />
              <img src="https://i.ibb.co/3cCxVfB/leaf-2.png" alt="Floating Leaf" class="absolute -top-1 right-[2em] w-[4em] h-auto transform rotate-12 animate-float-delay" />
          </div>
          <div class="w-[80%] md:w-[60%] h-px bg-white/30 mt-4"></div>
        </div>
        
        <svg viewBox="0 0 10 10" class="absolute top-1/2 left-10 text-white/50 w-3 h-3 animate-pulse" fill="currentColor">
          <path d="M4 0H6V4H10V6H6V10H4V6H0V4H4V0Z" />
        </svg>
        <svg viewBox="0 0 10 10" class="absolute bottom-1/4 right-12 text-white/50 w-4 h-4 animate-pulse" fill="currentColor">
          <path d="M4 0H6V4H10V6H6V10H4V6H0V4H4V0Z" />
        </svg>
        <svg viewBox="0 0 10 10" class="absolute top-1/3 right-20 text-white/50 w-2 h-2 animate-pulse" fill="currentColor">
          <path d="M4 0H6V4H10V6H6V10H4V6H0V4H4V0Z" />
        </svg>
      </section>

      <!-- About Section -->
      <section id="about" class="py-20 lg:py-32 bg-gradient-to-b from-[#0a140c] to-[#0f1d13]">
        <div class="container mx-auto px-6">
          <div class="text-center max-w-3xl mx-auto mb-16">
            <h2 class="text-4xl lg:text-5xl font-bold mb-4">O Coração Verde do Mundo</h2>
            <p class="text-lg text-white/80 leading-relaxed">
              A Amazônia não é apenas uma floresta; é um sistema vital que regula o clima global, abriga uma biodiversidade incomparável e sustenta milhões de vidas. Proteger a Amazônia é proteger o futuro do nosso planeta.
            </p>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="bg-white/5 p-6 rounded-lg text-center backdrop-blur-sm border border-white/10">
              <p class="text-4xl lg:text-5xl font-bold text-[#96d117]">10%</p>
              <p class="text-sm text-white/70 mt-2">Das espécies conhecidas do mundo vivem aqui</p>
            </div>
            <div class="bg-white/5 p-6 rounded-lg text-center backdrop-blur-sm border border-white/10">
              <p class="text-4xl lg:text-5xl font-bold text-[#96d117]">20%</p>
              <p class="text-sm text-white/70 mt-2">Do oxigênio da Terra é produzido pela floresta</p>
            </div>
            <div class="bg-white/5 p-6 rounded-lg text-center backdrop-blur-sm border border-white/10">
              <p class="text-4xl lg:text-5xl font-bold text-[#96d117]">17%</p>
              <p class="text-sm text-white/70 mt-2">Da floresta já foi perdida para o desmatamento</p>
            </div>
          </div>

          <div class="mt-20 lg:mt-28 grid lg:grid-cols-2 gap-12 items-center">
              <div class="relative h-80 lg:h-96 rounded-lg overflow-hidden">
                  <img src="https://images.unsplash.com/photo-1559827291-72ee739d0d95?q=80&w=800&auto=format&fit=crop" alt="Amazon River" class="w-full h-full object-cover"/>
                   <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"></div>
              </div>
              <div>
                  <h3 class="text-3xl font-bold mb-4 text-[#b2f249]">A Urgência da Preservação</h3>
                  <p class="text-white/80 mb-4">
                      O desmatamento, impulsionado pela agricultura, mineração ilegal e extração de madeira, está empurrando a floresta para um ponto de inflexão. A perda da Amazônia teria consequências catastróficas, acelerando as mudanças climáticas e causando uma extinção em massa.
                  </p>
                  <p class="text-white/80">
                      Nossa missão é aumentar a conscientização e impulsionar ações concretas para reverter essa tendência. Juntos, podemos garantir que a Amazônia continue a prosperar para as gerações futuras.
                  </p>
              </div>
          </div>
        </div>
      </section>

      <!-- Gemini Chat Section -->
      <section id="chat" class="py-20 lg:py-32 bg-[#0f1d13]">
        <div class="container mx-auto px-6 max-w-4xl">
          <div class="text-center mb-12">
            <h2 class="text-4xl lg:text-5xl font-bold mb-4">Explore a Amazônia com IA</h2>
            <p class="text-lg text-white/80">
              Tem alguma dúvida sobre a fauna, flora, ou os desafios da Amazônia? Pergunte à nossa IA especializada.
            </p>
          </div>

          <div class="bg-white/5 p-8 rounded-lg border border-white/10 backdrop-blur-sm">
            <form id="chat-form">
              <div class="flex flex-col sm:flex-row gap-4">
                <input
                  id="prompt-input"
                  type="text"
                  placeholder="Ex: Qual o maior animal da Amazônia?"
                  class="flex-grow bg-white/10 text-white placeholder-white/50 rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-[#96d117] transition-all"
                />
                <button
                  id="submit-button"
                  type="submit"
                  class="bg-[#96d117] text-gray-900 font-bold px-8 py-3 rounded-md hover:bg-[#a9e83b] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"
                >
                  Perguntar
                </button>
              </div>
            </form>

            <div id="response-container" class="mt-8 p-6 bg-black/20 rounded-md min-h-[100px] hidden">
              <div id="response-content"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Call to Action Section -->
      <section id="action" class="relative py-24 lg:py-36 bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1500382017468-9049fed747ef?q=80&w=1920&auto=format&fit=crop')">
        <div class="absolute inset-0 bg-black/60 backdrop-blur-sm"></div>
        <div class="relative container mx-auto px-6 text-center">
          <h2 class="text-4xl lg:text-5xl font-bold text-white mb-6">Seja a Mudança que a Amazônia Precisa</h2>
          <p class="max-w-2xl mx-auto text-lg text-white/80 mb-10">
            Cada ação conta. Desde a conscientização até o apoio a organizações na linha de frente, você pode fazer a diferença.
          </p>
          <div class="flex flex-col sm:flex-row justify-center items-center gap-4">
            <button class="bg-[#96d117] text-gray-900 font-bold px-8 py-4 rounded-full hover:bg-[#a9e83b] transition-transform hover:scale-105 w-full sm:w-auto">
              Apoie um Projeto
            </button>
            <button class="bg-transparent border-2 border-[#96d117] text-[#96d117] font-bold px-8 py-4 rounded-full hover:bg-[#96d117]/10 transition-colors w-full sm:w-auto">
              Compartilhe a Causa
            </button>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="bg-[#0a140c] border-t border-white/10 py-8">
      <div class="container mx-auto px-6 text-center text-white/50">
        <p>&copy; 2024 Amazônia Preservation. Todos os direitos reservados.</p>
        <p class="text-sm mt-2">Um projeto de conscientização para proteger nosso maior tesouro.</p>
      </div>
    </footer>

    <script type="module">
      import { GoogleGenAI } from "@google/genai";

      // --- Gemini AI Service ---
      // IMPORTANT: This key is read from environment variables. 
      // For a real-world client-side application, you should use a backend proxy 
      // to protect your API key.
      const API_KEY = process.env.API_KEY;
      let ai;
      if (API_KEY) {
        ai = new GoogleGenAI({ apiKey: API_KEY });
      }

      const askGemini = async (prompt) => {
        if (!ai) {
          throw new Error("API Key for Gemini is not configured.");
        }
        try {
          const response = await ai.models.generateContent({
              model: "gemini-2.5-flash",
              contents: prompt,
              config: {
                  systemInstruction: "Você é um especialista na floresta amazônica. Seu objetivo é fornecer respostas concisas, informativas e envolventes sobre sua ecologia, biodiversidade, as ameaças que enfrenta, como o desmatamento, e os esforços de conservação. Responda sempre em português do Brasil.",
                  temperature: 0.7,
                  topP: 0.9,
                  topK: 40,
              }
          });
          return response.text;
        } catch (error) {
          console.error("Gemini API error:", error);
          throw new Error("Failed to fetch response from Gemini.");
        }
      };

      // --- Header Scroll Effect ---
      const header = document.getElementById('header');
      window.addEventListener('scroll', () => {
        if (window.scrollY > 10) {
          header.classList.add('bg-black/50', 'backdrop-blur-md', 'shadow-lg');
          header.classList.remove('bg-transparent');
        } else {
          header.classList.remove('bg-black/50', 'backdrop-blur-md', 'shadow-lg');
          header.classList.add('bg-transparent');
        }
      });
      
      // --- Gemini Chat Logic ---
      const chatForm = document.getElementById('chat-form');
      const promptInput = document.getElementById('prompt-input');
      const submitButton = document.getElementById('submit-button');
      const responseContainer = document.getElementById('response-container');
      const responseContent = document.getElementById('response-content');
      
      const loadingSpinner = `<div class="w-5 h-5 border-2 border-t-transparent border-gray-900 rounded-full animate-spin"></div>`;
      const thinkingText = `<p class="text-white/70 animate-pulse">Pensando...</p>`;
      
      if (!API_KEY) {
          promptInput.placeholder = "A chave da API do Gemini não está configurada.";
          promptInput.disabled = true;
          submitButton.disabled = true;
      }

      chatForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const prompt = promptInput.value.trim();
        if (!prompt || submitButton.disabled) return;

        // Set loading state
        submitButton.disabled = true;
        promptInput.disabled = true;
        submitButton.innerHTML = loadingSpinner;
        responseContainer.classList.remove('hidden');
        responseContent.innerHTML = thinkingText;

        try {
          const geminiResponse = await askGemini(prompt);
          // Sanitize response to prevent basic HTML injection
          const sanitizedResponse = geminiResponse.replace(/</g, "&lt;").replace(/>/g, "&gt;");
          responseContent.innerHTML = `<p class="text-white/90 whitespace-pre-wrap leading-relaxed">${sanitizedResponse}</p>`;
        } catch (err) {
          responseContent.innerHTML = `<p class="text-red-400">Desculpe, não foi possível obter uma resposta. Tente novamente.</p>`;
          console.error(err);
        } finally {
          submitButton.disabled = false;
          promptInput.disabled = false;
          submitButton.innerHTML = 'Perguntar';
        }
      });

    </script>
  </body>
</html>
